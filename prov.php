 <?php
 $tm = time()*1000;
 $prov='{"11":"ACEH","51":"BALI","36":"BANTEN","17":"BENGKULU","34":"DAERAH ISTIMEWA YOGYAKARTA","31":"DKI JAKARTA","75":"GORONTALO","15":"JAMBI","32":"JAWA BARAT","33":"JAWA TENGAH","35":"JAWA TIMUR","61":"KALIMANTAN BARAT","63":"KALIMANTAN SELATAN","62":"KALIMANTAN TENGAH","64":"KALIMANTAN TIMUR","65":"KALIMANTAN UTARA","19":"KEPULAUAN BANGKA BELITUNG","21":"KEPULAUAN RIAU","18":"LAMPUNG","99":"Luar Negeri","81":"MALUKU","82":"MALUKU UTARA","52":"NUSA TENGGARA BARAT","53":"NUSA TENGGARA TIMUR","91":"P A P U A","92":"PAPUA BARAT","96":"PAPUA BARAT DAYA","95":"PAPUA PEGUNUNGAN","93":"PAPUA SELATAN","94":"PAPUA TENGAH","14":"RIAU","76":"SULAWESI BARAT","73":"SULAWESI SELATAN","72":"SULAWESI TENGAH","74":"SULAWESI TENGGARA","71":"SULAWESI UTARA","13":"SUMATERA BARAT","16":"SUMATERA SELATAN","12":"SUMATERA UTARA"}';
 $prov=json_decode($prov,TRUE);

 $pp='{"ts":"2024-02-16 23:45:57","psu":"Reguler","mode":"hhcw","chart":{"100025":18331274,"100026":42646169,"100027":13330514,"persen":63.1},"table":{"11":{"psu":"Reguler","100025":1056336,"100026":294136,"100027":31298,"persen":59.79,"status_progress":true},"12":{"psu":"Reguler","100025":730382,"100026":1517610,"100027":316819,"persen":51.64,"status_progress":true},"13":{"psu":"Reguler","100025":711763,"100026":492542,"100027":52182,"persen":61.87,"status_progress":true},"14":{"psu":"Reguler","100025":614307,"100026":787359,"100027":147885,"persen":50.48,"status_progress":true},"15":{"psu":"Reguler","100025":297819,"100026":756409,"100027":121629,"persen":65.36,"status_progress":true},"16":{"psu":"Reguler","100025":376337,"100026":1426105,"100027":234195,"persen":63.86,"status_progress":true},"17":{"psu":"Reguler","100025":147291,"100026":586907,"100027":102721,"persen":70.24,"status_progress":true},"18":{"psu":"Reguler","100025":484989,"100026":2215642,"100027":493264,"persen":75.4,"status_progress":true},"19":{"psu":"Reguler","100025":115168,"100026":313132,"100027":93486,"persen":68.76,"status_progress":true},"21":{"psu":"Reguler","100025":146697,"100026":251600,"100027":53104,"persen":49.86,"status_progress":true},"31":{"psu":"Reguler","100025":1165206,"100026":1156880,"100027":511932,"persen":64.58,"status_progress":true},"32":{"psu":"Reguler","100025":3854987,"100026":6705465,"100027":1180509,"persen":60.0,"status_progress":true},"33":{"psu":"Reguler","100025":1933793,"100026":7904826,"100027":5192638,"persen":78.89,"status_progress":true},"34":{"psu":"Reguler","100025":214965,"100026":517138,"100027":312977,"persen":71.81,"status_progress":true},"35":{"psu":"Reguler","100025":1694174,"100026":6576217,"100027":1807567,"persen":65.3,"status_progress":true},"36":{"psu":"Reguler","100025":845983,"100026":1343771,"100027":242285,"persen":61.93,"status_progress":true},"51":{"psu":"Reguler","100025":29737,"100026":476420,"100027":421706,"persen":53.02,"status_progress":true},"52":{"psu":"Reguler","100025":377590,"100026":995141,"100027":119423,"persen":70.2,"status_progress":true},"53":{"psu":"Reguler","100025":63316,"100026":623704,"100027":325696,"persen":59.03,"status_progress":true},"61":{"psu":"Reguler","100025":395822,"100026":935376,"100027":251416,"persen":63.0,"status_progress":true},"62":{"psu":"Reguler","100025":125442,"100026":480728,"100027":75478,"persen":53.68,"status_progress":true},"63":{"psu":"Reguler","100025":356249,"100026":533429,"100027":71221,"persen":54.5,"status_progress":true},"64":{"psu":"Reguler","100025":161587,"100026":519635,"100027":84116,"persen":54.92,"status_progress":true},"65":{"psu":"Reguler","100025":25128,"100026":83239,"100027":17215,"persen":51.63,"status_progress":true},"71":{"psu":"Reguler","100025":101093,"100026":967050,"100027":229373,"persen":76.95,"status_progress":true},"72":{"psu":"Reguler","100025":174254,"100026":523241,"100027":74776,"persen":58.87,"status_progress":true},"73":{"psu":"Reguler","100025":1268416,"100026":1832918,"100027":171564,"persen":67.69,"status_progress":true},"74":{"psu":"Reguler","100025":177414,"100026":523594,"100027":46263,"persen":70.92,"status_progress":true},"75":{"psu":"Reguler","100025":97168,"100026":216202,"100027":18048,"persen":74.8,"status_progress":true},"76":{"psu":"Reguler","100025":147709,"100026":321202,"100027":33552,"persen":74.02,"status_progress":true},"81":{"psu":"Reguler","100025":52065,"100026":171624,"100027":50002,"persen":44.4,"status_progress":true},"82":{"psu":"Reguler","100025":75147,"100026":161088,"100027":32534,"persen":38.98,"status_progress":true},"91":{"psu":"Reguler","100025":10021,"100026":48124,"100027":19418,"persen":24.09,"status_progress":true},"92":{"psu":"Reguler","100025":6005,"100026":33623,"100027":13455,"persen":21.42,"status_progress":true},"93":{"psu":"Reguler","100025":1955,"100026":15361,"100027":4311,"persen":15.42,"status_progress":true},"94":{"psu":"Reguler","100025":3643,"100026":21578,"100027":7143,"persen":4.08,"status_progress":true},"95":{"psu":"Reguler","persen":0.02,"status_progress":true},"96":{"psu":"Reguler","100025":7227,"100026":25935,"100027":12363,"persen":32.61,"status_progress":true},"99":{"psu":"Reguler","100025":284089,"100026":291218,"100027":356950,"persen":43.48,"status_progress":true}},"progres":{"total":823236,"progres":519465}}';
 $pp=json_decode($pp,TRUE);
 $file=file_get_contents("ppwp.json");
 $ppwp=json_decode($file,true);
 $ppwp[$tm]['total']=array($pp['chart'][100025],$pp['chart'][100026],$pp['chart'][100027]);
 foreach($pp['table'] as $a => $b){
        $ppwp[$tm][$prov[$a]]=array($b[100025],$b[100026],$b[100027]);
}
 file_put_contents("ppwp.json", json_encode($ppwp,TRUE));
 ?>
